(this.webpackJsonpkuma_frontend=this.webpackJsonpkuma_frontend||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/header.9c0370f0.png"},110:function(e,t,a){e.exports=a.p+"static/media/banner.d0caf3e6.jpg"},116:function(e,t,a){e.exports=a(159)},158:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=a(13),i=a(24),s=a(18),u=a(47),m=a(102),p=a.n(m),d=a(103),h=a(10),g={loading:!0,result:[],options:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AUTHOR_PENDING":return Object(h.a)({},g);case"FETCH_AUTHOR_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},g),{},{loading:!1,result:n,options:r});default:return Object(h.a)({},e)}},b={loading:!1,books:[],detail:[],options:[],similar:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOK_PENDING":return Object(h.a)(Object(h.a)({},b),{},{loading:!0});case"FETCH_BOOK_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},b),{},{loading:!1,books:n,options:r});case"FETCH_DETAIL_PENDING":return Object(h.a)(Object(h.a)({},b),{},{loading:!0});case"FETCH_DETAIL_FULFILLED":var o=t.payload.data,l=o.data,c=o.options;return Object(h.a)(Object(h.a)({},b),{},{loading:!1,detail:l[0],options:c});case"FETCH_SIMILAR_PENDING":return Object(h.a)(Object(h.a)({},b),{},{loading:!0});case"FETCH_SIMILAR_FULFILLED":var i=t.payload.data,s=i.data,u=i.options;return Object(h.a)(Object(h.a)({},b),{},{loading:!1,similar:s,options:u});default:return Object(h.a)({},e)}},v={loading:!1,result:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAVORITE_PENDING":return Object(h.a)(Object(h.a)({},v),{},{loading:!0});case"GET_FAVORITE_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},v),{},{loading:!1,result:n,options:r});case"POST_FAVORITE_PENDING":return Object(h.a)(Object(h.a)({},v),{},{loading:!0});case"POST_FAVORITE_FULFILLED":return Object(h.a)(Object(h.a)({},v),{},{loading:!1});case"DELETE_FAVORITE_PENDING":return Object(h.a)(Object(h.a)({},v),{},{loading:!0});case"DELETE_FAVORITE_FULFILLED":return Object(h.a)(Object(h.a)({},v),{},{loading:!1});default:return Object(h.a)({},e)}},y={loading:!0,result:[],options:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GENRE_PENDING":return Object(h.a)({},y);case"FETCH_GENRE_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},y),{},{loading:!1,result:n,options:r});default:return Object(h.a)({},e)}},x={loading:!1,detail:[],options:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REVIEW_PENDING":return Object(h.a)(Object(h.a)({},x),{},{loading:!0});case"FETCH_REVIEW_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},x),{},{loading:!1,detail:n,options:r});default:return Object(h.a)({},e)}},S={loading:!0,result:[],options:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_PENDING":return Object(h.a)({},S);case"FETCH_PROFILE_FULFILLED":var a=t.payload.data,n=a.data,r=a.options;return Object(h.a)(Object(h.a)({},S),{},{loading:!1,result:n[0],options:r});default:return Object(h.a)({},e)}},C=Object(u.c)({authors:f,books:E,favorites:k,genres:w,reviews:N,profile:O}),I=Object(u.d)(C,Object(u.a)(d.a,p.a)),j=a(2),A=a.n(j),_=a(8),L=a(14),D=a(15),F=a(17),B=a(16),P=a(164),G=a(167),T=a(108),R=a(50),M=a.n(R),U="http://18.209.178.237:8000/",H=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get(U+t.url,t.body,t.config);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post(U+t.url,t.body,t.config);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(_.a)(A.a.mark((function e(t,a){var n,r,o,l,c,i,s,u,m,p,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.bookName,r=t.bookDesc,o=t.file,l=t.bookPublished,c=t.bookLanguage,i=t.bookGenre,s=t.bookAuthor,u=t.bookStatus,(m=new FormData).append("name",n),m.append("description",r),m.append("picture",o),m.append("genreId",parseInt(i.value,10)),m.append("authorId",parseInt(s.value,10)),m.append("statusId",parseInt(u.value,10)),m.append("published",l),m.append("language",c),p={headers:{"content-type":"multipart/form-data",Authorization:a}},e.next=14,M.a.post("".concat(U,"book"),m,p);case 14:return d=e.sent,e.abrupt("return",d);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.patch(U+t.url,t.body,t.config);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(_.a)(A.a.mark((function e(t,a){var n,r,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,r=a.image,n.append("picture",r),o={headers:{"content-type":"multipart/form-data",Authorization:a.apikey}},e.next=7,M.a.patch("".concat(U,"book/cover/").concat(t),n,o);case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete(U+t.url,t.body,t.config);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){return{type:"FETCH_BOOK",payload:H({url:"book".concat(e)})}},J=function(e){return{type:"FETCH_DETAIL",payload:H({url:"book".concat(e)})}},$=a(104),Q=a.n($),X=a(12),Y=a.n(X),ee=a(31),te=a.n(ee),ae=a(172),ne=a(173),re=a(165),oe=a(171),le=a(107),ce=a(106),ie=a(6),se=a.n(ie),ue=a(44),me=a.n(ue),pe=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).search=function(e){e.preventDefault();var t=n.props.history,a=n.state.keyword;t.push({pathname:"/book",search:"?search=".concat(a),state:a})},n.logout=function(){Y.a.fire("Logout success","successfully logout","success"),te.a.auth().signOut(),se()(!1),n.props.history.push("/login")},n.bookPage=function(){n.props.history.push({pathname:"/book"})},n.getGenre=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({url:"genre"});case 3:t=e.sent,a=t.data.data,n.setState({genre:a}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.componentDidMount=function(){n.getGenre()},n.state={hasLogin:se()("login")||!1,adminLogin:se()("adminLogin")||!1,keyword:null,genre:[]},n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.genre,n=t.hasLogin,o=t.adminLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{bg:"white",expand:"lg",fixed:"top",className:"shadow-sm animate__animated animate__fadeInDown"},r.a.createElement(P.a,null,r.a.createElement(c.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{src:me.a,alt:"Logo",width:"100"})),r.a.createElement(ae.a.Toggle,{className:"border-0","aria-controls":"basic-navbar-nav"}),r.a.createElement(ae.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ne.a,{className:"mr-auto"},r.a.createElement(c.b,{className:"nav-link ",to:"/"},"Home"),r.a.createElement(ne.a.Link,{onClick:this.bookPage},"Book"),r.a.createElement(re.a,{title:"Genre",id:"basic-nav-dropdown"},a.length>1&&a.map((function(e){return r.a.createElement(c.b,{className:"dropdown-item",key:e.id,to:{pathname:"/genre/".concat(e.name),state:{genreId:e.id,name:e.name}}},e.name)}))),o?r.a.createElement(re.a,{title:"Manage",id:"basic-nav-dropdown"},r.a.createElement(c.b,{to:"/admin/book",className:"dropdown-item"},"Book Manage"),r.a.createElement(c.b,{to:"/admin/genre",className:"dropdown-item"},"Genre Manage"),r.a.createElement(c.b,{to:"/admin/author",className:"dropdown-item"},"Author Manage")):null),r.a.createElement(ne.a,{className:"ml-auto"},r.a.createElement(re.a.Divider,{className:"d-lg-none"}),r.a.createElement(oe.a,{className:"mx-2 my-2 my-lg-0",onSubmit:this.search,inline:!0},r.a.createElement(le.a,{type:"text",placeholder:"Search book...",className:"mr-sm-2 bg-light",onChange:function(t){return e.setState({keyword:t.target.value})}})),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{title:"Member",id:"basic-nav-dropdown"},r.a.createElement(c.b,{to:"/profile",className:"dropdown-item"},"Profile"),r.a.createElement(c.b,{to:"/favorite",className:"dropdown-item"},"Favorite"),r.a.createElement(c.b,{to:"/review",className:"dropdown-item"},"Review"),r.a.createElement(re.a.Divider,null),r.a.createElement(re.a.Item,{onClick:this.logout},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a.Divider,{className:"d-lg-none"}),r.a.createElement(c.b,{className:"nav-link ",to:"/login"},r.a.createElement("span",{className:"d-none d-lg-block"},"Log In"),r.a.createElement(ce.a,{className:"w-100 d-lg-none",size:"sm",variant:"dark"},"Log In")),r.a.createElement(c.b,{className:"nav-link",to:"/sign-up"},r.a.createElement(ce.a,{className:"w-100",size:"sm"},"Sign Up"))))))))}}]),a}(n.Component),de=a(174),he=a(166);function ge(e){return r.a.createElement(de.a,{className:"border-0 bg-transparent"},r.a.createElement(c.b,{to:{pathname:"/book/".concat(e.title.replace(/\s/g,"-")),state:{id:e.id}},className:"stretched-link"}),r.a.createElement(de.a.Img,{variant:"top",src:"http://18.209.178.237:8000/"+e.cover,className:"rounded mx-auto card-cover animate__animated animate__fadeIn",alt:e.title}),r.a.createElement(de.a.Body,{className:"px-0"},r.a.createElement(de.a.Title,{className:"font-weight-bold text-truncate"},e.title||"unknown"),r.a.createElement(de.a.Text,null,e.author||"unknown"),r.a.createElement(he.a,{pill:!0,variant:"primary mr-2 py-2 px-2"},e.genre||"unknown"),r.a.createElement(he.a,{pill:!0,variant:"dark py-2 px-2"},e.language||"unknown")))}var fe=a(22),be=a.n(fe);function Ee(){return r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:3,className:"d-none d-lg-block"},r.a.createElement(be.a,{height:350}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})),r.a.createElement(T.a,{lg:3,className:"d-none d-lg-block"},r.a.createElement(be.a,{height:350}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})),r.a.createElement(T.a,{lg:3,className:"d-none d-lg-block"},r.a.createElement(be.a,{height:350}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})),r.a.createElement(T.a,{lg:3,className:"d-none d-lg-block"},r.a.createElement(be.a,{height:350}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})),r.a.createElement(T.a,{lg:3,md:6,xs:6,className:"d-lg-none"},r.a.createElement(be.a,{height:220}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})),r.a.createElement(T.a,{lg:3,md:6,xs:6,className:"d-lg-none"},r.a.createElement(be.a,{height:220}),r.a.createElement("div",{className:"my-3"}),r.a.createElement(be.a,{count:3})))}var ve=a(168);function ke(e){return r.a.createElement(ve.a,{variant:e.variant||"danger"},e.message||"-")}var ye=a(110),we=a.n(ye);function xe(){return r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"banner animate__animated animate__fadeIn"},r.a.createElement(c.b,{className:"dropdown-item",to:{pathname:"/book",search:"?search=harry potter",state:"harry potter"}},r.a.createElement("img",{src:we.a,className:"w-100",alt:"Banner"})))))}function Ne(){return r.a.createElement(P.a,null,r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:12},r.a.createElement(be.a,{height:200}))))}function Se(){return r.a.createElement("footer",{id:"sticky-footer"},r.a.createElement("div",{className:"bottom-footer mt-4 py-1"},r.a.createElement("p",{className:"text-white text-center mt-2"},"Copyright \xa9 2020 Kuma Book. Build By Bilkis Ismail")))}var Oe=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).getPopularBook=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchBook("?limit=8");case 3:t=n.props.books.books,n.setState({books:t,error:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.componentDidMount=function(){n.getPopularBook()},n.state={books:[],error:!1},n}return Object(D.a)(a,[{key:"render",value:function(){var e=this.state,t=e.books,a=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("header",{className:"animate__animated animate__bounceInLeft"},r.a.createElement(P.a,{className:"my-5"},r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:6},r.a.createElement("img",{src:Q.a,className:"w-100",alt:"banner"})),r.a.createElement(T.a,{lg:{span:5,offset:1},className:"d-flex align-items-center mt-5 mt-lg-0"},r.a.createElement("div",{className:"banner-content d-none d-lg-block"},r.a.createElement("h1",{className:"font-weight-bold"},"Kuma Book"),r.a.createElement("p",null,"The world's largest novel and manga wikipedia and database 100% free")))))),r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5"},r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"Popular Book"),r.a.createElement("div",{className:"divinder"})),a?r.a.createElement(ke,{message:"Can't get book from server"}):null,t.length?r.a.createElement(G.a,null,t.map((function(e){return r.a.createElement(T.a,{lg:3,md:6,xs:6,key:e.id,className:"mb-5"},r.a.createElement(ge,{id:e.id,cover:e.cover,title:e.name,author:e.author,genre:e.genre,language:e.language}))}))):r.a.createElement(Ee,null))),t.length?r.a.createElement(xe,null):r.a.createElement(Ne,null),r.a.createElement("div",{className:"my-5"}),r.a.createElement(Se,null))}}]),a}(n.Component),Ce={fetchBook:Z},Ie=Object(s.b)((function(e){return{books:e.books}}),Ce)(Oe),je=a(39),Ae=a.n(je),_e=a(51),Le=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).getAllBooks=Object(_.a)(A.a.mark((function e(){var t,a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n.props.location.state)){e.next=7;break}return e.next=5,n.props.fetchBook("?search=".concat(t,"&limit=8"));case 5:e.next=9;break;case 7:return e.next=9,n.props.fetchBook("?limit=8");case 9:a=n.props.books,r=a.books,o=a.options,n.setState({books:r,options:o,error:!1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.setState({error:!0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.onSort=function(e){var t=n.state.books;2===parseInt(e,10)?(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:2})):(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:1}))},n.handlePageChange=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchBook("?limit=8&page=".concat(t));case 3:a=n.props.books,r=a.books,o=a.options,n.setState({books:r,options:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.getAllBooks()},n.componentDidUpdate=function(e){e.location.search!==n.props.location.search&&n.getAllBooks()},n.state={books:[],options:[],error:!1,sort:1},n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.books,n=t.options,o=t.error,l=t.sort;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"List Book"),r.a.createElement("div",{className:"divinder w-50"})),r.a.createElement(_e.a,null,r.a.createElement(_e.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Sort"),r.a.createElement(_e.a.Menu,null,r.a.createElement(_e.a.Item,{active:1===l,onClick:function(){return e.onSort("1")}},"Sort by name A - Z"),r.a.createElement(_e.a.Item,{active:2===l,onClick:function(){return e.onSort("2")}},"Sort by name Z - A")))),o?r.a.createElement(ke,{message:"Can't get book from server"}):null,a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,a.map((function(e){return r.a.createElement(T.a,{className:"mb-5",lg:3,md:6,xs:6,key:e.id},r.a.createElement(ge,{id:e.id,cover:e.cover,title:e.name,author:e.author,genre:e.genre,language:e.language}))}))),r.a.createElement(Ae.a,{activePage:n.page,itemsCountPerPage:n.perPage,totalItemsCount:parseInt(n.totalData,10),pageRangeDisplayed:5,onChange:this.handlePageChange,itemClass:"page-item",linkClass:"page-link",hideNavigation:!0})):r.a.createElement(Ee,null))),r.a.createElement(Se,null))}}]),a}(n.Component),De={fetchBook:Z},Fe=Object(s.b)((function(e){return{books:e.books}}),De)(Le),Be=a(32),Pe=a(111),Ge=a.n(Pe),Te=a(170);function Re(e){return r.a.createElement(de.a,{className:"m-3 shadow-sm animate__animated animate__fadeInUp"},r.a.createElement(de.a.Body,null,r.a.createElement("blockquote",{className:"blockquote mb-0"}),r.a.createElement("strong",null,e.user||"anonim"),r.a.createElement("p",null,"Overall Rating : ",r.a.createElement("strong",{className:"ml-1"},e.rating||"-")),r.a.createElement("p",null,e.review||"-")))}var Me=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getDetailBook=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.location.state.id,se()("bookId",t),e.next=5,n.props.selectBook("/".concat(t));case 5:a=n.props.books.detail,n.setState({book:a}),n.getSimilarBook(),n.getReviewBook(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n.setState({error:!0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.getSimilarBook=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state.book.genre_id,e.next=4,n.props.fetchSimilar("/genre/".concat(t,"?limit=4"));case 4:a=n.props.books.similar,n.setState({similar:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.getReviewBook=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.location.state.id,e.next=4,n.props.selectReview({id:t});case 4:a=n.props.reviews.detail,n.setState({review:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.addFavorite=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=n.props.location.state.id,n.props.addFavorite({id:t,userId:se()("userId"),apikey:se()("apikey")}),Y.a.fire("Added to favorites","successfully added to favorites","success")}catch(a){n.setState({error:!0})}case 1:case"end":return e.stop()}}),e)}))),n.addReview=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=n.props.location.state.id,r=n.state,o=r.ratingInput,l=r.reviewInput,e.next=6,n.props.postReview({id:a,userId:se()("userId"),ratingInput:o,reviewInput:l,apikey:se()("apikey")});case 6:Y.a.fire("Review successfully","successfully added review","success"),n.getReviewBook(),n.setState({modal:!1,ratingInput:0,reviewInput:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Y.a.fire("Opps something Wrong","failed added review","error");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),n.showModal=function(){n.setState({modal:!0})},n.hideModal=function(){n.setState({modal:!1})},n.changeRating=function(e){n.setState({ratingInput:e})},n.componentDidMount=function(){n.getDetailBook()},n.componentDidUpdate=function(){var e=n.props.location.state.id;se()("bookId")!==e&&n.getDetailBook()},n.state={book:null,similar:[],review:[],error:!1,modal:!1,ratingInput:0,reviewInput:null},n.props.location.state)||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){for(var e=this,t=this.state,a=t.book,n=t.similar,o=t.review,l=t.ratingInput,c=t.reviewInput,i=t.error,s=t.modal,u=[],m=1;m<=10;m++)u.push({value:m,label:m});return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),a?r.a.createElement("div",{className:"banner-cover animate__animated animate__fadeIn",style:{backgroundImage:"url(".concat("http://18.209.178.237:8000/"+a.cover,")")}}):null,r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5"},r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:3},a?r.a.createElement("img",{src:"http://18.209.178.237:8000/"+a.cover,className:"w-100 animate__animated animate__fadeIn animate__slow rounded shadow-lg mb-5 mb-lg-0",alt:a.name}):r.a.createElement("div",{className:"mb-5"},r.a.createElement(be.a,{height:350}))),r.a.createElement(T.a,{lg:9},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"font-weight-bold text-dark"},a.name),r.a.createElement("p",{className:"font-weight-bold text-dark"},a.author),r.a.createElement(he.a,{pill:!0,variant:"primary mr-2 py-2 px-2"},a.genre),r.a.createElement(he.a,{pill:!0,variant:"dark py-2 px-2"},a.language),r.a.createElement("p",{className:"mt-3 text-justify text-dark"},a.description),se()("login")?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:"text-dark",onClick:function(){return e.addFavorite()}},"Add to favorite"),r.a.createElement(ce.a,{variant:"dark",className:"ml-2",onClick:this.showModal},"Add Review")):null):r.a.createElement("div",{className:"mb-5"},i?r.a.createElement(ke,{message:"Can't get book from server"}):null,r.a.createElement(be.a,{height:50,className:"mb-4"}),r.a.createElement(be.a,{count:5})))))),r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5 animate__animated animate__fadeIn"},r.a.createElement("div",{className:"head-title"},r.a.createElement("h2",{className:"font-weight-bold"},"Review Book"),r.a.createElement("div",{className:"divinder"})),i?r.a.createElement(ke,{message:"Can't get review from server"}):null,o.length?o.map((function(e){return r.a.createElement(Re,{key:e.id,review:e.review,rating:e.rating,user:e.fullname})})):r.a.createElement(ke,{message:"Review not found",variant:"warning"}))),r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5 animate__animated animate__fadeIn"},r.a.createElement("div",{className:"head-title"},r.a.createElement("h2",{className:"font-weight-bold"},"Similar Book"),r.a.createElement("div",{className:"divinder"})),i?r.a.createElement(ke,{message:"Can't get book from server"}):null,a?r.a.createElement(G.a,null,n.map((function(e){return r.a.createElement(T.a,{lg:3,md:6,xs:6,key:e.id},r.a.createElement(Ge.a,{style:{position:"relative !important"},showUnder:0},r.a.createElement(ge,{id:e.id,cover:e.cover,title:e.name,author:e.author,genre:e.genre,language:e.language})))}))):r.a.createElement(Ee,null))),r.a.createElement(Te.a,{show:s,onHide:this.hideModal},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,"Review Book")),r.a.createElement(oe.a,{onSubmit:this.addReview},r.a.createElement(Te.a.Body,null,r.a.createElement(oe.a.Group,{controlId:"formBasicBook"},r.a.createElement(oe.a.Label,null,"Book Name"),r.a.createElement(oe.a.Control,{defaultValue:a?a.name:"Unknown",readOnly:!0})),r.a.createElement(oe.a.Group,{controlId:"formBasicRating"},r.a.createElement(oe.a.Label,null,"Rating"),r.a.createElement(Be.a,{value:l,onChange:this.changeRating,options:u})),r.a.createElement(oe.a.Group,{controlId:"formBasicReview"},r.a.createElement(oe.a.Label,null,"Review"),r.a.createElement(oe.a.Control,{as:"textarea",onChange:function(t){return e.setState({reviewInput:t.target.value})},rows:"3",defaultValue:c}))),r.a.createElement(Te.a.Footer,null,r.a.createElement(ce.a,{variant:"secondary",onClick:this.hideModal},"Close"),r.a.createElement(ce.a,{variant:"primary",type:"submit"},"Save")))),r.a.createElement(Se,null))}}]),a}(n.Component),Ue={selectBook:J,fetchSimilar:function(e){return{type:"FETCH_SIMILAR",payload:H({url:"book".concat(e)})}},selectReview:function(e){return{type:"FETCH_REVIEW",payload:H({url:"review",body:{params:{book_id:e.id}}})}},addFavorite:function(e){return{type:"POST_FAVORITE",payload:V({url:"favorite",body:{book_id:e.id,user_id:e.userId},config:{headers:{Authorization:e.apikey}}})}},postReview:function(e){return{type:"POST_REVIEW",payload:V({url:"review",body:{book_id:e.id,user_id:e.userId,rating:parseInt(e.ratingInput.value,10),review:e.reviewInput},config:{headers:{Authorization:e.apikey}}})}}},He=Object(s.b)((function(e){return{books:e.books,reviews:e.reviews}}),Ue)(Me),Ve=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getAllBooks=Object(_.a)(A.a.mark((function e(){var t,a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.location.state.genreId,e.next=4,n.props.fetchBook("/genre/".concat(t,"?limit=8"));case 4:a=n.props.books,r=a.books,o=a.options,r?n.setState({books:r,options:o,error:!1}):n.setState({error:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.onSort=function(e){var t=n.state.books;2===parseInt(e,10)?(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:2})):(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:1}))},n.handlePageChange=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.props.location.state.genreId,e.next=4,n.props.fetchBook("/genre/".concat(a,"?limit=8&page=").concat(t));case 4:r=n.props.books,o=r.result,l=r.options,n.setState({books:o,options:l}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.getAllBooks()},n.componentDidUpdate=function(e){e.location.state.name!==n.props.location.state.name&&n.getAllBooks()},n.state={books:[],options:[],error:!1,sort:1},n.props.location.state)||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.books,n=t.options,o=t.error,l=t.sort;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,{className:"my-5"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"List Book"),r.a.createElement("div",{className:"divinder w-50"})),r.a.createElement(_e.a,null,r.a.createElement(_e.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Sort"),r.a.createElement(_e.a.Menu,null,r.a.createElement(_e.a.Item,{active:1===l,onClick:function(){return e.onSort("1")}},"Sort by name A - Z"),r.a.createElement(_e.a.Item,{active:2===l,onClick:function(){return e.onSort("2")}},"Sort by name Z - A")))),o?r.a.createElement(ke,{message:"Can't get book from server"}):null,a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,a.map((function(e){return r.a.createElement(T.a,{className:"mb-5",lg:3,md:6,xs:6,key:e.id},r.a.createElement(ge,{id:e.id,cover:e.cover,title:e.name,author:e.author,genre:e.genre,language:e.language}))}))),r.a.createElement(Ae.a,{activePage:n.page,itemsCountPerPage:n.perPage,totalItemsCount:parseInt(n.totalData,10),pageRangeDisplayed:5,onChange:this.handlePageChange,itemClass:"page-item",linkClass:"page-link",hideNavigation:!0})):r.a.createElement(Ee,null))),r.a.createElement(Se,null))}}]),a}(n.Component),ze={fetchBook:Z},We=Object(s.b)((function(e){return{books:e.books}}),ze)(Ve),qe=function(e){return{type:"FETCH_PROFILE",payload:H({url:"profile/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}},Ke=a(55),Ze=a.n(Ke),Je=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getProfile=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.selectProfile({id:se()("userId"),apikey:se()("apikey")});case 3:t=n.props.profile.result,n.setState({fullname:t.fullname,email:t.email,birthday:t.birthdate,gender:t.gender,bio:t.bio}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.changeGender=function(e){n.setState({gender:e})},n.changeBirthday=function(e){n.setState({birthday:e})},n.updateProfile=Object(_.a)(A.a.mark((function e(){var t,a,r,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=n.state,a=t.fullname,r=t.birthday,o=t.gender,l=t.bio,n.props.updateProfile({userId:se()("userId"),fullname:a,birthday:r,gender:o.value,bio:l,apikey:se()("apikey")}),Y.a.fire("Update profile success","successfully update profile","success"),n.setState({error:!1})}catch(c){n.setState({error:!0})}case 1:case"end":return e.stop()}}),e)}))),n.onSubmit=function(e){e.preventDefault(),n.updateProfile()},n.state={fullname:null,email:null,birthday:null,gender:null,bio:null,error:!1},se()("login"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,n=t.email,o=t.birthday,l=t.gender,c=t.bio,i=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"profile animate__animated animate__fadeIn mb-5"},r.a.createElement("img",{src:Ze.a,className:"rounded-circle img-thumbnail d-block mx-auto",alt:"Profile Name"}),r.a.createElement("h2",{className:"font-weight-bold text-center mt-4"},a),r.a.createElement("p",{className:"text-center"},n)),r.a.createElement("div",{className:"head-title text-center"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"Profile Data"),r.a.createElement("div",{className:"divinder mx-auto"})),r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:6,className:"mx-auto"},i?r.a.createElement(ve.a,{variant:"warning"},"Update profile failed"):null,r.a.createElement(oe.a,{onSubmit:this.onSubmit},r.a.createElement(oe.a.Group,{controlId:"formBasicName"},r.a.createElement(oe.a.Label,null,"Full Name"),r.a.createElement(oe.a.Control,{type:"text",onChange:function(t){return e.setState({fullname:t.target.value})},defaultValue:a})),r.a.createElement(oe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(oe.a.Label,null,"Email address"),r.a.createElement(oe.a.Control,{type:"email",onChange:function(t){return e.setState({email:t.target.value})},defaultValue:n,readOnly:!0})),r.a.createElement(oe.a.Group,{controlId:"formBasicBirthday"},r.a.createElement(oe.a.Label,{className:"d-block"},"Bithday"),r.a.createElement(oe.a.Control,{type:"date",onChange:function(t){return e.setState({birthday:t.target.value})},defaultValue:o})),r.a.createElement(oe.a.Group,{controlId:"formBasicGender"},r.a.createElement(oe.a.Label,null,"Gender"),r.a.createElement(Be.a,{value:l,onChange:this.changeGender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}]})),r.a.createElement(oe.a.Group,{controlId:"formBasicBio"},r.a.createElement(oe.a.Label,null,"Bio"),r.a.createElement(oe.a.Control,{as:"textarea",onChange:function(t){return e.setState({bio:t.target.value})},rows:"3",defaultValue:c})),r.a.createElement(ce.a,{variant:"primary",type:"submit"},"Save")))))),r.a.createElement(Se,null))}}]),a}(n.Component),$e={selectProfile:qe,updateProfile:function(e){return{type:"UPDATE_GENRE",payload:W({url:"profile/".concat(e.userId),body:{fullname:e.fullname,birthdate:e.birthday,gender:e.gender,bio:e.bio},config:{headers:{Authorization:e.apikey}}})}}},Qe=Object(s.b)((function(e){return{profile:e.profile}}),$e)(Je),Xe=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getFavoriteBook=Object(_.a)(A.a.mark((function e(){var t,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.getFavorite({id:se()("userId"),limit:1,page:1,apikey:se()("apikey")});case 3:t=n.props.favorite,a=t.result,r=t.options,n.setState({books:a,options:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0,books:[],options:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.handlePageChange=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.getFavorite({id:se()("userId"),limit:1,page:t,apikey:se()("apikey")});case 3:a=n.props.favorite,r=a.result,o=a.options,n.setState({books:r,options:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteFavorite=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n.props.deleteFavorite({id:t,apikey:se()("apikey")}),Y.a.fire("Deleted favorites","successfully deleted favorites","success"),n.getFavoriteBook()}catch(a){n.setState({error:!0})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProfile=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.selectProfile({id:se()("userId"),apikey:se()("apikey")});case 3:t=n.props.profile.result,n.setState({fullname:t.fullname,email:t.email}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.componentDidMount=function(){n.getProfile(),n.getFavoriteBook()},n.state={books:[],options:[],fullname:null,email:null,error:!1},se()("login"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,n=t.email,o=t.books,l=t.options,i=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",{className:"animate__animated animate__fadeIn"},r.a.createElement(P.a,null,r.a.createElement("div",{className:"profile mb-5"},r.a.createElement("img",{src:Ze.a,className:"rounded-circle img-thumbnail d-block mx-auto",alt:"Profile Name"}),r.a.createElement("h2",{className:"font-weight-bold text-center mt-4"},a),r.a.createElement("p",{className:"text-center"},n)),r.a.createElement("div",{className:"head-title text-center"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"Favorite Book"),r.a.createElement("div",{className:"divinder mx-auto"})),i||!o.length?r.a.createElement(ke,{variant:"warning",message:"Can't get book from server"}):null,o.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,o.map((function(t){return r.a.createElement(T.a,{lg:3,md:6,xs:6,key:t.book_favorites_id,className:"mb-5"},r.a.createElement(de.a,{className:"border-0 bg-transparent"},r.a.createElement(c.b,{to:{pathname:"/book/".concat(t.name.replace(/\s/g,"-")),state:{id:t.id}}},r.a.createElement(de.a.Img,{variant:"top",src:"http://localhost:8000/"+t.cover,className:"rounded mx-auto card-cover animate__animated animate__fadeIn",alt:"cover"})),r.a.createElement(de.a.Body,{className:"px-0"},r.a.createElement(de.a.Title,{className:"font-weight-bold text-truncate"},t.name||"unknown"),r.a.createElement(ce.a,{variant:"danger",size:"sm",onClick:function(){return e.deleteFavorite(t.book_favorites_id)},block:!0},"Delete"))))}))),r.a.createElement(Ae.a,{activePage:l.page,itemsCountPerPage:l.perPage,totalItemsCount:parseInt(l.totalData,10),pageRangeDisplayed:5,onChange:this.handlePageChange,itemClass:"page-item",linkClass:"page-link",hideNavigation:!0})):r.a.createElement(Ee,null))),r.a.createElement(Se,null))}}]),a}(n.Component),Ye={selectProfile:qe,getFavorite:function(e){return{type:"GET_FAVORITE",payload:H({url:"profile/favorite/".concat(e.id),body:{params:{limit:e.limit,page:e.page},headers:{Authorization:e.apikey}}})}},deleteFavorite:function(e){return{type:"DELETE_FAVORITE",payload:K({url:"favorite/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}}},et=Object(s.b)((function(e){return{favorite:e.favorites,profile:e.profile}}),Ye)(Xe),tt=a(169),at=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getProfile=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.selectProfile({id:se()("userId"),apikey:se()("apikey")});case 3:t=n.props.profile.result,n.setState({fullname:t.fullname,email:t.email}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getReview=Object(_.a)(A.a.mark((function e(){var t,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchReview({limit:5,page:1});case 3:t=n.props.reviews,a=t.detail,r=t.options,n.setState({review:a,options:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.handlePageChange=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchReview({limit:5,page:t});case 3:a=n.props.reviews,r=a.detail,o=a.options,n.setState({review:r,options:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteReview=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.deleteReview({id:t,apikey:se()("apikey")});case 3:Y.a.fire("Delete review success","successfully delete review","success"),n.getReview(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.state={fullname:null,email:null,review:[],options:[],error:!1},se()("login"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.getProfile(),this.getReview()}},{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,n=t.email,o=t.review,l=t.options,c=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"profile animate__animated animate__fadeIn mb-5"},r.a.createElement("img",{src:Ze.a,className:"rounded-circle img-thumbnail d-block mx-auto",alt:"Profile Name"}),r.a.createElement("h2",{className:"font-weight-bold text-center mt-4"},a),r.a.createElement("p",{className:"text-center"},n)),r.a.createElement("div",{className:"head-title text-center"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"Review Book"),r.a.createElement("div",{className:"divinder mx-auto"})),r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:12},c?r.a.createElement(ve.a,{variant:"warning"},"Review not found"):null,r.a.createElement(tt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Book Name"),r.a.createElement("th",null,"Review"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,o.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.review),r.a.createElement("td",null,t.created_at.slice(0,10)),r.a.createElement("td",null,r.a.createElement(ce.a,{variant:"danger",onClick:function(){return e.deleteReview(t.id)}},"Delete")))})))),r.a.createElement(Ae.a,{activePage:l.page,itemsCountPerPage:l.perPage,totalItemsCount:parseInt(l.totalData,10),pageRangeDisplayed:5,onChange:this.handlePageChange,itemClass:"page-item",linkClass:"page-link",hideNavigation:!0}))))),r.a.createElement(Se,null))}}]),a}(n.Component),nt={selectProfile:qe,fetchReview:function(e){return{type:"FETCH_REVIEW",payload:H({url:"review",body:{params:{limit:e.limit,page:e.page}}})}},deleteReview:function(e){return{type:"DELETE_REVIEW",payload:K({url:"review/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}}},rt=Object(s.b)((function(e){return{profile:e.profile,reviews:e.reviews}}),nt)(at),ot=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getAllBooks=Object(_.a)(A.a.mark((function e(){var t,a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n.props.location.state)){e.next=7;break}return e.next=5,n.props.fetchBook("?search=".concat(t,"&limit=8"));case 5:e.next=9;break;case 7:return e.next=9,n.props.fetchBook("?limit=8");case 9:a=n.props.books,r=a.books,o=a.options,n.setState({books:r,options:o,error:!1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.setState({error:!0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.onSort=function(e){var t=n.state.books;2===parseInt(e,10)?(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:2})):(t.sort((function(e,t){return e-t})),n.setState({books:t,sort:1}))},n.handlePageChange=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchBook("?limit=8&page=".concat(t));case 3:a=n.props.books,r=a.books,o=a.options,n.setState({books:r,options:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.getAllBooks()},n.componentDidUpdate=function(e){e.location.search!==n.props.location.search&&n.getAllBooks()},n.state={books:[],options:[],error:!1,sort:1},se()("login")||se()("adminLogin")||se()("pin"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.books,n=t.options,o=t.error,l=t.sort;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"List Book"),r.a.createElement("div",{className:"divinder"})),r.a.createElement("div",{className:"d-flex justify-content-between mb-3"},r.a.createElement("div",null,r.a.createElement(c.b,{className:"btn btn-primary",to:"/admin/book/new"},"New Book")),r.a.createElement(_e.a,null,r.a.createElement(_e.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Sort"),r.a.createElement(_e.a.Menu,null,r.a.createElement(_e.a.Item,{active:1===l,onClick:function(){return e.onSort("1")}},"Sort by name A - Z"),r.a.createElement(_e.a.Item,{active:2===l,onClick:function(){return e.onSort("2")}},"Sort by name Z - A")))),o?r.a.createElement(ve.a,{message:"Can't get book from server"}):null,r.a.createElement(tt.a,{bordered:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cover"),r.a.createElement("th",null,"Book Name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Detail"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("img",{src:"http://localhost:8000/".concat(e.cover),alt:e.name,width:"50"})),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.status),r.a.createElement("td",null,r.a.createElement(c.b,{to:{pathname:"/admin/book/detail/".concat(e.name.replace(/\s/g,"-")),state:{id:e.id}},className:"btn btn-primary"},"Detail")))})))),r.a.createElement(Ae.a,{activePage:n.page,itemsCountPerPage:n.perPage,totalItemsCount:parseInt(n.totalData,10),pageRangeDisplayed:5,onChange:this.handlePageChange,itemClass:"page-item",linkClass:"page-link",hideNavigation:!0}))),r.a.createElement(Se,null))}}]),a}(n.Component),lt={fetchBook:Z},ct=Object(s.b)((function(e){return{books:e.books}}),lt)(ot),it=a(77),st=a.n(it),ut=function(e){return{type:"FETCH_GENRE",payload:H({url:"genre/".concat(e?e.id:"")})}},mt=function(e){return{type:"FETCH_AUTHOR",payload:H({url:"author/".concat(e?e.id:"")})}},pt=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getDetailBook=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.location.state.id,se()("bookId",t),e.next=5,n.props.selectBook("/".concat(t));case 5:return e.next=7,n.props.fetchAuthor();case 7:return e.next=9,n.props.fetchGenre();case 9:a=n.props.book.detail,n.setState({book:a,bookName:a.name,bookLanguage:a.language,bookPublished:a.published,bookGenre:a.genre,bookAuthor:a.author,bookStatus:a.status,bookDesc:a.description,genres:n.props.genres.result,authors:n.props.authors.result}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.setState({error:!0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.changeGenre=function(e){n.setState({bookGenre:e})},n.changeAuthor=function(e){n.setState({bookAuthor:e})},n.changeStatus=function(e){n.setState({bookStatus:e})},n.onDrop=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[0])try{a=n.props.location.state.id,r=t[0],n.props.updateCover({id:a,picture:r,apikey:se()("apikey")}),Y.a.fire({title:"Edit Cover success",text:"",icon:"success"}).then((function(){return n.getDetailBook()}))}catch(o){Y.a.fire({title:"Edit Failed",text:"Make sure the code is correct",icon:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onUpdate=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=n.props.location.state.id,e.next=5,n.props.updateBook(a,n.state,se()("apikey"));case 5:Y.a.fire({title:"Edit Book success",text:"",icon:"success"}).then((function(){return n.getDetailBook()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Y.a.fire({title:"Edit Book failed",text:"",icon:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.onDelete=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=n.props.location.state.id,n.props.removeBook({id:t,apikey:se()("apikey")}),Y.a.fire({title:"Delete Book success",text:"",icon:"success"}).then((function(){n.props.history.push("/admin/book")}))}catch(a){Y.a.fire({title:"Delete Book failed",text:"",icon:"error"}).then((function(){n.props.history.push("/admin/book")}))}case 1:case"end":return e.stop()}}),e)}))),n.componentDidMount=function(){n.getDetailBook()},n.state={book:null,genres:[],authors:[],bookName:null,bookLanguage:null,bookPublished:null,bookGenre:null,bookAuthor:null,bookStatus:null,bookDesc:null,error:!1},n.props.location.state)||n.props.history.push("/");se()("login")||se()("adminLogin")||se()("pin")||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.book,n=t.bookGenre,o=t.bookAuthor,l=t.bookStatus,c=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),a?r.a.createElement("div",{className:"banner-cover animate__animated animate__fadeIn",style:{backgroundImage:"url(".concat("http://localhost:8000/"+a.cover,")")}}):null,r.a.createElement("section",null,r.a.createElement(P.a,{className:"mt-5"},r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:3},a?r.a.createElement("img",{src:"http://localhost:8000/"+a.cover,className:"w-100 animate__animated animate__fadeIn animate__slow rounded shadow-lg mb-5 mb-lg-0",alt:a.name}):r.a.createElement("div",{className:"mb-5"},r.a.createElement(be.a,{height:350}))),r.a.createElement(T.a,{lg:9},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"font-weight-bold text-dark"},a.name),r.a.createElement("p",{className:"font-weight-bold text-dark"},a.author),r.a.createElement(he.a,{pill:!0,variant:"primary mr-2 py-2 px-2"},a.genre),r.a.createElement(he.a,{pill:!0,variant:"dark py-2 px-2"},a.language),r.a.createElement("p",{className:"mt-3 text-justify text-dark"},a.description),r.a.createElement(ce.a,{variant:"danger",className:"mb-3 w-25 ml-auto",onClick:this.onDelete},"Delete")):r.a.createElement("div",{className:"mb-5"},c?r.a.createElement(ve.a,{message:"Can't get book from server"}):null,r.a.createElement(be.a,{height:50,className:"mb-4"}),r.a.createElement(be.a,{count:5})))))),r.a.createElement("br",null),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"head-title"},r.a.createElement("h2",{className:"font-weight-bold"},"Update Book"),r.a.createElement("div",{className:"divinder"})),r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:4},r.a.createElement(st.a,{withIcon:!0,singleImage:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})),a?r.a.createElement(T.a,{lg:8},r.a.createElement(oe.a,{onSubmit:this.onUpdate},r.a.createElement(oe.a.Group,{controlId:"bookName"},r.a.createElement(oe.a.Label,null,"Book Name"),r.a.createElement(oe.a.Control,{type:"text",defaultValue:a.name,onChange:function(t){return e.setState({bookName:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookLanguage"},r.a.createElement(oe.a.Label,null,"Language"),r.a.createElement(oe.a.Control,{type:"text",defaultValue:a.language,onChange:function(t){return e.setState({bookLanguage:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookDate"},r.a.createElement(oe.a.Label,null,"Publish Date"),r.a.createElement(oe.a.Control,{type:"date",defaultValue:a.published,onChange:function(t){return e.setState({bookPublished:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookGenre"},r.a.createElement(oe.a.Label,null,"Genre"),r.a.createElement(Be.a,{onChange:this.changeGenre,value:{label:n.label||n,value:o.value},options:this.state.genres.map((function(e){return{value:e.id,label:e.name}}))})),r.a.createElement(oe.a.Group,{controlId:"bookAuthor"},r.a.createElement(oe.a.Label,null,"Author"),r.a.createElement(Be.a,{onChange:this.changeAuthor,value:{label:o.label||o,value:o.value},options:this.state.authors.map((function(e){return{value:e.id,label:e.name}}))})),r.a.createElement(oe.a.Group,{controlId:"bookAuthor"},r.a.createElement(oe.a.Label,null,"Status"),r.a.createElement(Be.a,{onChange:this.changeStatus,value:{label:l.label||l,value:l.value},options:[{value:1,label:"Available"},{value:2,label:"Pending"},{value:3,label:"Not Available"}]})),r.a.createElement(oe.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(oe.a.Label,null,"Description"),r.a.createElement(oe.a.Control,{as:"textarea",rows:"5",defaultValue:a.description,onChange:function(t){return e.setState({bookDesc:t.target.value})},required:!0})),r.a.createElement(ce.a,{className:"mb-3 w-25 ml-auto",type:"submit"},"Update"))):null))),r.a.createElement(Se,null))}}]),a}(n.Component),dt={selectBook:J,fetchGenre:ut,fetchAuthor:mt,updateBook:function(e,t,a){return{type:"UPDATE_BOOK",payload:W({url:"book/".concat(e),body:{name:t.bookName||t.book.name,description:t.bookDesc||t.book.description,genre_id:t.bookGenre.value?t.bookGenre.value:t.book.genre_id,author_id:t.bookAuthor.value?t.bookAuthor.value:t.book.author_id,status_id:t.bookStatus.value?t.bookStatus.value:t.book.status_id,published:t.bookPublished||t.book.published,language:t.bookLanguage||t.book.language},config:{headers:{Authorization:a}}})}},updateCover:function(e){return{type:"UPDATE_BOOK",payload:q(e.id,{image:e.picture,apikey:e.apikey})}},removeBook:function(e){return{type:"DELETE_BOOK",payload:K({url:"book/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}}},ht=Object(s.b)((function(e){return{authors:e.authors,book:e.books,genres:e.genres}}),dt)(pt),gt=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).changeGenre=function(e){n.setState({bookGenre:e})},n.changeAuthor=function(e){n.setState({bookAuthor:e})},n.changeStatus=function(e){n.setState({bookStatus:e})},n.onDrop=function(e){e[0]&&n.setState({bookCover:URL.createObjectURL(e[0]),file:e[0]})},n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{n.props.postBook({data:n.state,apikey:se()("apikey")}),Y.a.fire({title:"Add New Book success",text:"",icon:"success"})}catch(a){Y.a.fire({title:"Add New Book failed",text:"",icon:"error"})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchGenre();case 2:return e.next=4,n.props.fetchAuthor();case 4:n.setState({genres:n.props.genres.result,authors:n.props.authors.result});case 5:case"end":return e.stop()}}),e)}))),n.state={genres:[],authors:[],bookName:null,bookLanguage:null,bookPublished:null,bookGenre:null,bookAuthor:null,bookStatus:null,bookDesc:null,bookCover:null,file:null},se()("login")||se()("adminLogin")||se()("pin"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.bookCover,n=t.genres,o=t.authors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"head-title"},r.a.createElement("h2",{className:"font-weight-bold"},"New Book"),r.a.createElement("div",{className:"divinder"})),r.a.createElement(oe.a,{onSubmit:this.onSubmit},r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:4},a?r.a.createElement("img",{src:a,className:"w-100 h-50",alt:a}):null,r.a.createElement(st.a,{withIcon:!0,singleImage:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})),r.a.createElement(T.a,{lg:8},r.a.createElement(oe.a.Group,{controlId:"bookName"},r.a.createElement(oe.a.Label,null,"Book Name"),r.a.createElement(oe.a.Control,{type:"text",onChange:function(t){return e.setState({bookName:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookLanguage"},r.a.createElement(oe.a.Label,null,"Language"),r.a.createElement(oe.a.Control,{type:"text",onChange:function(t){return e.setState({bookLanguage:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookDate"},r.a.createElement(oe.a.Label,null,"Publish Date"),r.a.createElement(oe.a.Control,{type:"date",onChange:function(t){return e.setState({bookPublished:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"bookGenre"},r.a.createElement(oe.a.Label,null,"Genre"),r.a.createElement(Be.a,{onChange:this.changeGenre,options:n.map((function(e){return{value:e.id,label:e.name}}))})),r.a.createElement(oe.a.Group,{controlId:"bookAuthor"},r.a.createElement(oe.a.Label,null,"Author"),r.a.createElement(Be.a,{onChange:this.changeAuthor,options:o.map((function(e){return{value:e.id,label:e.name}}))})),r.a.createElement(oe.a.Group,{controlId:"bookAuthor"},r.a.createElement(oe.a.Label,null,"Status"),r.a.createElement(Be.a,{onChange:this.changeStatus,options:[{value:1,label:"Available"},{value:2,label:"Pending"},{value:3,label:"Not Available"}]})),r.a.createElement(oe.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(oe.a.Label,null,"Description"),r.a.createElement(oe.a.Control,{as:"textarea",rows:"5",onChange:function(t){return e.setState({bookDesc:t.target.value})},required:!0})),r.a.createElement(ce.a,{className:"mb-3 w-25 ml-auto",type:"submit"},"Save")))))),r.a.createElement(Se,null))}}]),a}(n.Component),ft={postBook:function(e){return{type:"POST_BOOK",payload:z(e.data,e.apikey)}},fetchGenre:ut,fetchAuthor:mt},bt=Object(s.b)((function(e){return{genres:e.genres,authors:e.authors}}),ft)(gt),Et=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getAllGenres=Object(_.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchGenre();case 3:t=n.props.genres,a=t.result,n.setState({genres:a,error:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.onSort=function(e){var t=n.state.genres;2===parseInt(e,10)?(t.sort((function(e,t){return e-t})),n.setState({genres:t,sort:2})):(t.sort((function(e,t){return e-t})),n.setState({genres:t,sort:1}))},n.selectGenre=function(){var e=Object(_.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchGenre({id:t});case 3:a=n.props.genres,r=a.result,n.setState({showAddModal:!0,genreName:r[0].name,genreId:r[0].id,edit:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Y.a.fire({title:"Delete Failed",text:"Something Wrong",icon:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteGenre=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.deleteGenre({id:t,apikey:se()("apikey")});case 3:Y.a.fire({title:"Delete Success",text:"",icon:"success"}).then((function(){return n.getAllGenres()})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Y.a.fire({title:"Delete Failed",text:"Something Wrong",icon:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),n.onEdit=Object(_.a)(A.a.mark((function e(){var t,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=n.state,a=t.genreId,r=t.genreName,n.props.updateGenre({id:a,name:r,apikey:se()("apikey")}),Y.a.fire({title:"Edit Genre Success",text:"",icon:"success"}).then((function(){n.getAllGenres(),n.setState({showAddModal:!1,edit:!1})}))}catch(o){Y.a.fire({title:"Edit Genre Failed",text:"",icon:"error"})}case 1:case"end":return e.stop()}}),e)}))),n.addNew=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=n.state.genreName,n.props.postGenre({name:t,apikey:se()("apikey")}),Y.a.fire({title:"Add Genre Success",text:"",icon:"success"}).then((function(){n.getAllGenres(),n.setState({showAddModal:!1})}))}catch(a){Y.a.fire({title:"Add Genre Failed",text:"",icon:"error"})}case 1:case"end":return e.stop()}}),e)}))),n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.state.edit?n.onEdit():n.addNew();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddClose=function(){n.setState({showAddModal:!1})},n.handleAddShow=function(){n.setState({showAddModal:!0})},n.componentDidMount=function(){n.getAllGenres()},n.state={genres:[],error:!1,showAddModal:!1,genreName:null,genreId:null,edit:!1,sort:1},se()("login")||se()("adminLogin")||se()("pin"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.genres,n=t.error,o=t.sort,l=t.showAddModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"List Genre"),r.a.createElement("div",{className:"divinder"})),r.a.createElement("div",{className:"d-flex justify-content-between mb-3"},r.a.createElement("div",null,r.a.createElement(ce.a,{onClick:this.handleAddShow},"Add Genre")),r.a.createElement(_e.a,null,r.a.createElement(_e.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Sort"),r.a.createElement(_e.a.Menu,null,r.a.createElement(_e.a.Item,{active:1===o,onClick:function(){return e.onSort("1")}},"Sort by name A - Z"),r.a.createElement(_e.a.Item,{active:2===o,onClick:function(){return e.onSort("2")}},"Sort by name Z - A")))),n?r.a.createElement(ve.a,{message:"Can't get Genres from server"}):null,r.a.createElement(tt.a,{bordered:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"75%"},"Name"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement(c.b,{className:"btn btn-primary",to:{pathname:"/genre/".concat(t.name),state:{genreId:t.id,name:t.name}}},"Detail"),r.a.createElement(ce.a,{variant:"warning mx-2 my-2",onClick:function(){return e.selectGenre(t.id)}},"Edit"),r.a.createElement(ce.a,{variant:"danger",onClick:function(){return e.deleteGenre(t.id)}},"Delete")))})))))),r.a.createElement(Te.a,{show:l,onHide:this.handleAddClose,size:"md"},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,"Genres")),r.a.createElement(oe.a,{onSubmit:this.onSubmit},r.a.createElement(Te.a.Body,null,r.a.createElement(oe.a.Group,{controlId:"bookName"},r.a.createElement(oe.a.Label,null,"Genres Name"),r.a.createElement(oe.a.Control,{type:"text",defaultValue:this.state.genreName,onChange:function(t){return e.setState({genreName:t.target.value})}}))),r.a.createElement(Te.a.Footer,null,r.a.createElement(ce.a,{variant:"secondary",onClick:this.handleAddClose},"Close"),r.a.createElement(ce.a,{variant:"primary",type:"submit"},"Save")))),r.a.createElement(Se,null))}}]),a}(n.Component),vt={fetchGenre:ut,postGenre:function(e){return{type:"POST_GENRE",payload:V({url:"genre",body:{name:e.name},config:{headers:{Authorization:e.apikey}}})}},updateGenre:function(e){return{type:"UPDATE_GENRE",payload:W({url:"genre/".concat(e.id),body:{name:e.name},config:{headers:{Authorization:e.apikey}}})}},deleteGenre:function(e){return{type:"DELETE_GENRE",payload:K({url:"genre/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}}},kt=Object(s.b)((function(e){return{genres:e.genres}}),vt)(Et),yt=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).getAllAuthors=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchAuthor();case 3:t=n.props.authors.result,n.setState({authors:t,error:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onSort=function(e){var t=n.state.authors;2===parseInt(e,10)?(t.sort((function(e,t){return e-t})),n.setState({authors:t,sort:2})):(t.sort((function(e,t){return e-t})),n.setState({authors:t,sort:1}))},n.selectAuthors=function(){var e=Object(_.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.fetchAuthor({id:t});case 3:a=n.props.authors.result,n.setState({showAddModal:!0,authorName:a[0].name,authorId:a[0].id,edit:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Y.a.fire({title:"Delete Failed",text:"Something Wrong",icon:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteAuthors=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n.props.deleteAuthor({id:t,apikey:se()("apikey")}),Y.a.fire({title:"Delete Success",text:"",icon:"success"}).then((function(){return n.getAllAuthors()}))}catch(a){Y.a.fire({title:"Delete Failed",text:"Something Wrong",icon:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onEdit=Object(_.a)(A.a.mark((function e(){var t,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.authorId,r=t.authorName,e.next=4,n.props.updateAuthor({id:a,name:r,apikey:se()("apikey")});case 4:Y.a.fire({title:"Edit authors Success",text:"",icon:"success"}).then((function(){n.getAllAuthors(),n.setState({showAddModal:!1,edit:!1})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Y.a.fire({title:"Edit authors Failed",text:"",icon:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.addNew=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state.authorName,e.next=4,n.props.postAuthor({name:t,apikey:se()("apikey")});case 4:Y.a.fire({title:"Add authors Success",text:"",icon:"success"}).then((function(){n.getAllAuthors(),n.setState({showAddModal:!1})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Y.a.fire({title:"Add authors Failed",text:"",icon:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.state.edit?n.onEdit():n.addNew();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddClose=function(){n.setState({showAddModal:!1})},n.handleAddShow=function(){n.setState({showAddModal:!0})},n.componentDidMount=function(){n.getAllAuthors()},n.state={authors:[],error:!1,showAddModal:!1,authorName:null,authorId:null,edit:!1,sort:1},se()("login")||se()("adminLogin")||se()("pin"))||n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.authors,n=t.error,o=t.sort,l=t.showAddModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,this.props),r.a.createElement("section",null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"head-title"},r.a.createElement("h3",{className:"main-title font-weight-bold"},"List Authors"),r.a.createElement("div",{className:"divinder"})),r.a.createElement("div",{className:"d-flex justify-content-between mb-3"},r.a.createElement("div",null,r.a.createElement(ce.a,{onClick:this.handleAddShow},"Add Authors")),r.a.createElement(_e.a,null,r.a.createElement(_e.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Sort"),r.a.createElement(_e.a.Menu,null,r.a.createElement(_e.a.Item,{active:1===o,onClick:function(){return e.onSort("1")}},"Sort by name A - Z"),r.a.createElement(_e.a.Item,{active:2===o,onClick:function(){return e.onSort("2")}},"Sort by name Z - A")))),n?r.a.createElement(ve.a,{message:"Can't get authors from server"}):null,r.a.createElement(tt.a,{bordered:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"75%"},"Name"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement(c.b,{className:"btn btn-primary disabled",to:{pathname:"/authors/".concat(t.name),state:{authorId:t.id,name:t.name}}},"Detail"),r.a.createElement(ce.a,{variant:"warning mx-2 my-2",onClick:function(){return e.selectAuthors(t.id)}},"Edit"),r.a.createElement(ce.a,{variant:"danger",onClick:function(){return e.deleteAuthors(t.id)}},"Delete")))})))))),r.a.createElement(Te.a,{show:l,onHide:this.handleAddClose,size:"md"},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,"Authors")),r.a.createElement(oe.a,{onSubmit:this.onSubmit},r.a.createElement(Te.a.Body,null,r.a.createElement(oe.a.Group,{controlId:"bookName"},r.a.createElement(oe.a.Label,null,"Authors Name"),r.a.createElement(oe.a.Control,{type:"text",defaultValue:this.state.authorName,onChange:function(t){return e.setState({authorName:t.target.value})}}))),r.a.createElement(Te.a.Footer,null,r.a.createElement(ce.a,{variant:"secondary",onClick:this.handleAddClose},"Close"),r.a.createElement(ce.a,{variant:"primary",type:"submit"},"Save")))),r.a.createElement(Se,null))}}]),a}(n.Component),wt={fetchAuthor:mt,postAuthor:function(e){return{type:"POST_AUTHOR",payload:V({url:"author",body:{name:e.name},config:{headers:{Authorization:e.apikey}}})}},updateAuthor:function(e){return{type:"UPDATE_AUTHOR",payload:W({url:"author/".concat(e.id),body:{name:e.name},config:{headers:{Authorization:e.apikey}}})}},deleteAuthor:function(e){return{type:"DELETE_AUTHOR",payload:K({url:"author/".concat(e.id),body:{headers:{Authorization:e.apikey}}})}}},xt=Object(s.b)((function(e){return{authors:e.authors}}),wt)(yt);a(153),a(155);te.a.initializeApp({apiKey:"AIzaSyCPV9cKULq9wzCnme4u3FU1aInf7yLZuCg",authDomain:"kumabook-c675d.firebaseapp.com",databaseURL:"https://kumabook-c675d.firebaseio.com",projectId:"kumabook-c675d",storageBucket:"kumabook-c675d.appspot.com",messagingSenderId:"608657777718",appId:"1:608657777718:web:8d64158cc26f0a2b17e497",measurementId:"G-P67ZJ17NVZ"});var Nt=new te.a.auth.GoogleAuthProvider,St=new te.a.auth.FacebookAuthProvider,Ot=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).onLogin=Object(_.a)(A.a.mark((function e(){var t,a,r,o,l,c,i,s,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.email,r=t.password,e.next=4,V({url:"auth/login",body:{email:a,password:r}});case 4:o=e.sent,200===o.status?(l=o.data.data,c=l.role,i=l.apiKey,s=l.userId,2===c?se()({userId:s,apikey:i,role:c,login:!0,adminLogin:!0,pin:"070402"}):se()({userId:s,apikey:i,role:c,login:!0}),n.props.history.push("/")):(u=o.response.data.message,n.setState({error:!0,errorMsg:u,loading:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({error:!0,loading:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),e.next=4,n.onLogin();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.closeError=function(){n.setState({error:!1})},n.googleAuth=function(){te.a.auth().signInWithPopup(Nt).then((function(e){var t=e.user,a=t.email,r=t.uid;n.setState({email:a,password:r,loading:!0}),n.onLogin()})).catch((function(){n.setState({error:!0,errorMsg:"Oopp.. something wrong",loading:!1})}))},n.facebookAuth=function(){te.a.auth().signInWithPopup(St).then((function(e){var t=e.user,a=t.email,r=t.uid;a?(n.setState({email:a,password:r,loading:!0}),n.onLogin()):n.setState({error:!0,errorMsg:"Email not found",loading:!1})})).catch((function(){n.setState({error:!0,errorMsg:"Oopp.. something wrong",loading:!1})}))},n.state={email:null,password:null,loading:!1,error:!1,errorMsg:null},se()("login"))&&n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,o=t.errorMsg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:4,className:"mx-auto my-5"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:me.a,className:"w-50 mx-auto d-block",alt:"kuma book"})),r.a.createElement("p",{className:"font-weight-light text-dark text-center mt-3 mb-5"},"Log In to join the Kuma Book community."),n?r.a.createElement(ve.a,{variant:"danger",onClose:this.closeError,dismissible:!0},r.a.createElement(ve.a.Heading,null,"Login Failed"),r.a.createElement("p",null,o)):null,r.a.createElement(oe.a,{onSubmit:this.onSubmit,className:"mt-3 mb-3"},r.a.createElement(oe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(oe.a.Label,null,"Email address"),r.a.createElement(oe.a.Control,{type:"email",placeholder:"Email address...",onChange:function(t){return e.setState({email:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"formBasicPassword"},r.a.createElement(oe.a.Label,null,"Password"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Password...",onChange:function(t){return e.setState({password:t.target.value})},required:!0})),r.a.createElement(ce.a,{className:"mt-4",variant:"primary",type:"submit",disabled:a,block:!0},a?"Loading\u2026":"Log in")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(ce.a,{variant:"danger",className:"btn-google",onClick:this.googleAuth,block:!0},a?"Loading\u2026":r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fab fa-google mr-2","aria-hidden":"true"}),r.a.createElement("span",null,"Log In with Google"))),r.a.createElement("div",{className:"my-2"}),r.a.createElement(ce.a,{variant:"dark",className:"btn-facebook",onClick:this.facebookAuth,block:!0},a?"Loading\u2026":r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fab fa-facebook mr-2","aria-hidden":"true"}),r.a.createElement("span",null,"Log In with Facebook"))),r.a.createElement("div",{className:"text-bottom text-center mt-4"},r.a.createElement("p",{className:"font-weight-light text-dark d-inline mr-1"},"Don't have an account?"),r.a.createElement(c.b,{to:"sign-up"},"Sign Up"))))))}}]),a}(n.Component),Ct=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).onSignUp=Object(_.a)(A.a.mark((function e(){var t,a,r,o,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state,a=t.email,r=t.password,o=t.password2,r!==o){e.next=10;break}return e.next=5,V({url:"auth/signIn",body:{email:a,password:r}});case 5:l=e.sent,200===l.status?n.props.history.push("/login"):(c=l.response.data.message,n.setState({error:!0,errorMsg:c,loading:!1})),e.next=11;break;case 10:n.setState({error:!0,errorMsg:"Password not match",loading:!1});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.setState({error:!0,loading:!1});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),e.next=4,n.onSignUp();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.closeError=function(){n.setState({error:!1})},n.googleAuth=function(){te.a.auth().signInWithPopup(Nt).then((function(e){var t=e.user,a=t.email,r=t.uid;n.setState({email:a,password:r,password2:r,loading:!0}),n.onSignUp()})).catch((function(){n.setState({error:!0,errorMsg:"Oopp.. something wrong",loading:!1})}))},n.facebookAuth=function(){te.a.auth().signInWithPopup(St).then((function(e){var t=e.user,a=t.email,r=t.uid;a?(n.setState({email:a,password:r,loading:!0}),n.onLogin()):n.setState({error:!0,errorMsg:"Email not found",loading:!1})})).catch((function(){n.setState({error:!0,errorMsg:"Oopp.. something wrong",loading:!1})}))},n.state={email:null,password:null,password2:null,loading:!1,error:!1,errorMsg:null},se()("login"))&&n.props.history.push("/");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,o=t.errorMsg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:4,className:"mx-auto my-5"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:me.a,className:"w-50 mx-auto d-block",alt:"kuma book"})),r.a.createElement("p",{className:"font-weight-light text-dark text-center mt-3 mb-5"},"Sign Up to join the Kuma Book community."),n?r.a.createElement(ve.a,{variant:"danger",onClose:this.closeError,dismissible:!0},r.a.createElement(ve.a.Heading,null,"Sign Up Failed"),r.a.createElement("p",null,o)):null,r.a.createElement(oe.a,{onSubmit:this.onSubmit,className:"mt-3 mb-3"},r.a.createElement(oe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(oe.a.Label,null,"Email address"),r.a.createElement(oe.a.Control,{type:"email",placeholder:"Email address...",onChange:function(t){return e.setState({email:t.target.value})},required:!0})),r.a.createElement(oe.a.Group,{controlId:"formBasicPassword"},r.a.createElement(oe.a.Label,null,"Password"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Password...",onChange:function(t){return e.setState({password:t.target.value})},required:!0}),r.a.createElement(oe.a.Text,{className:"text-muted"},"Minimum eight characters, at least one number")),r.a.createElement(oe.a.Group,{controlId:"formBasicPassword2"},r.a.createElement(oe.a.Label,null,"Password Confirmation"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Password confirmation...",onChange:function(t){return e.setState({password2:t.target.value})},required:!0})),r.a.createElement(ce.a,{className:"mt-4",variant:"primary",type:"submit",disabled:a,block:!0},a?"Loading\u2026":"Sign Up")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(ce.a,{variant:"danger",className:"btn-google",onClick:this.googleAuth,block:!0},r.a.createElement("i",{className:"fab fa-google mr-2","aria-hidden":"true"}),r.a.createElement("span",null,"Sign Up with Google")),r.a.createElement("div",{className:"my-2"}),r.a.createElement(ce.a,{variant:"dark",className:"btn-facebook",onClick:this.facebookAuth,block:!0},r.a.createElement("i",{className:"fab fa-facebook mr-2","aria-hidden":"true"}),r.a.createElement("span",null,"Sign Up with Facebook")),r.a.createElement("div",{className:"text-bottom text-center mt-4"},r.a.createElement("p",{className:"font-weight-light text-dark d-inline mr-1"},"Already have an account?"),r.a.createElement(c.b,{to:"login"},"Log In"))))))}}]),a}(n.Component),It=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(e){var n;(Object(L.a)(this,a),(n=t.call(this,e)).onActivate=Object(_.a)(A.a.mark((function e(){var t,a,r,o,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.email,r=t.code,e.next=4,V({url:"auth/activate",body:{email:a,code:r}});case 4:o=e.sent,o.status?(l=n.props.history,Y.a.fire("Activate success","successfully activate account","success"),l.push("/login")):(c=o.response.data.message,n.setState({error:!0,errorMsg:c,loading:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({error:!0,loading:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.onSubmit=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),e.next=4,n.onActivate();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.closeError=function(){n.setState({error:!1})},n.state={email:se()("email")||null,code:null,loading:!1,error:!1,errorMsg:null},se()("login"))&&n.props.history.push("/sign-up");return n}return Object(D.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,o=t.errorMsg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(G.a,null,r.a.createElement(T.a,{lg:4,className:"mx-auto my-5"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:me.a,className:"w-50 mx-auto d-block",alt:"kuma book"})),r.a.createElement("p",{className:"font-weight-light text-dark text-center mt-3 mb-5"},"Activate account to join the Kuma Book community."),n?r.a.createElement(ve.a,{variant:"danger",onClose:this.closeError,dismissible:!0},r.a.createElement(ve.a.Heading,null,"Login Failed"),r.a.createElement("p",null,o)):null,r.a.createElement(oe.a,{onSubmit:this.onSubmit,className:"mt-3 mb-3"},r.a.createElement(oe.a.Group,{controlId:"formBasicPin"},r.a.createElement(oe.a.Label,null,"Pin Code"),r.a.createElement(oe.a.Control,{type:"text",placeholder:"Pin code...",onChange:function(t){return e.setState({code:t.target.value})},required:!0})),r.a.createElement(ce.a,{className:"mt-4",variant:"primary",type:"submit",disabled:a,block:!0},a?"Loading\u2026":"Activate")),r.a.createElement("div",{className:"text-bottom text-center"},r.a.createElement("p",{className:"font-weight-light text-dark d-inline mr-1"},"Don't have an account?"),r.a.createElement(c.b,{to:"sign-up"},"Sign Up"))))))}}]),a}(n.Component);function jt(){return r.a.createElement(s.a,{store:I},r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:Ie}),r.a.createElement(i.a,{path:"/book",exact:!0,component:Fe}),r.a.createElement(i.a,{path:"/book/:id",component:He}),r.a.createElement(i.a,{path:"/genre/:id",component:We}),r.a.createElement(i.a,{path:"/profile",component:Qe}),r.a.createElement(i.a,{path:"/favorite",component:et}),r.a.createElement(i.a,{path:"/review",component:rt}),r.a.createElement(i.a,{path:"/admin/book",exact:!0,component:ct}),r.a.createElement(i.a,{path:"/admin/book/new",component:bt}),r.a.createElement(i.a,{path:"/admin/book/detail/:id",component:ht}),r.a.createElement(i.a,{path:"/admin/genre",component:kt}),r.a.createElement(i.a,{path:"/admin/author",component:xt}),r.a.createElement(i.a,{path:"/login",component:Ot}),r.a.createElement(i.a,{path:"/sign-up",component:Ct}),r.a.createElement(i.a,{path:"/activate",component:It}))))}var At=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _t(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(158);l.a.render(r.a.createElement(jt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");At?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_t(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_t(t,e)}))}}()},44:function(e,t,a){e.exports=a.p+"static/media/logo.5451dc56.png"},55:function(e,t,a){e.exports=a.p+"static/media/icon.b76ecdbb.png"}},[[116,1,2]]]);
//# sourceMappingURL=main.64383221.chunk.js.map